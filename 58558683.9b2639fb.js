(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{72:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return c})),n.d(t,"toc",(function(){return s})),n.d(t,"default",(function(){return u}));var o=n(3),b=n(7),r=(n(0),n(88)),i={id:"k8s",title:"Kubernetes"},c={unversionedId:"k8s",id:"k8s",isDocsHomePage:!1,title:"Kubernetes",description:"Deployment",source:"@site/docs/K8S.md",slug:"/k8s",permalink:"/gb-svc-beacon-bot/docs/k8s",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/K8S.md",version:"current",sidebar:"someSidebar",previous:{title:"Docker",permalink:"/gb-svc-beacon-bot/docs/docker"},next:{title:"User Guide",permalink:"/gb-svc-beacon-bot/docs/user_guide"}},s=[{value:"Running the bot",id:"running-the-bot",children:[]},{value:"Bring up the bot",id:"bring-up-the-bot",children:[]}],a={toc:s};function u(e){var t=e.components,n=Object(b.a)(e,["components"]);return Object(r.b)("wrapper",Object(o.a)({},a,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h1",{id:"deployment"},"Deployment"),Object(r.b)("p",null,"In the ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://github.com/OSAlt/gb-svc-beacon-bot/tree/master/kubernetes"}),"Kubernetes")," folder are 3 files."),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{}),"- bot-deployment.yml: Pulls from docker.io for beaconbot image \n- db-deployment.yml: Deploys a Mysql database for persistent configuration\n- env-configmap.yml: This is where various env variables are configured for the bot (Eg. Bot-token, Channels. Roles, etc)\n")),Object(r.b)("h2",{id:"running-the-bot"},"Running the bot"),Object(r.b)("p",null,"The configuration is done via the env-configmap.yml file.  Please copy the file and update accordingly."),Object(r.b)("h2",{id:"bring-up-the-bot"},"Bring up the bot"),Object(r.b)("p",null,"The easiest way to bring up the bot is to run Kubectl."),Object(r.b)("p",null,"From inside the kubernetes folder run"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{}),"kubectl apply -f env-configmap.yml,db-deployment.yml,bot-deployment.yml\n")),Object(r.b)("p",null,"To verify that the bot is up and running (You should see 2 pods running with bot-deployment and db-deployment prefixes.):"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{}),"kubectl get pods\n")))}u.isMDXComponent=!0}}]);